<% include header.ejs %>
<main class="main-content bgc-grey-100">
  <div id="mainContent">
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-12">
          <div class="bgc-white bd bdrs-3 p-20 mB-20">
            <h4 class="c-grey-900 mB-20">Group List</h4>
            <table id="dataTable" class="table table-striped table-bordered" cellspacing="0" width="100%">
              <thead>
                <tr>

                  <th>Group Image</th>
                  <th>Group Name</th>
                  <th>Members</th>
                </tr>
              </thead>

              <tbody>


                <%
                groups.groups.forEach(group => { %>

                <tr>

                  <td>
                    <%   if (group.image != null && group.image != "null") { %>
                    <img class="w-2r bdrs-50p"
                      src="/../api/v1/files_dashboard/group_avatars/<%= group.image %>" alt=""
                      onerror="this.src='/image_holder_gr_circle.png'">
                    <% } else {  %>
                    <img class="w-2r bdrs-50p" src="/image_holder_gr_circle.png" alt="">
                    <%
                                        }%>
                  </td>
                  <td> <%  if (group.name == null) {%>
                    No name
                    <%} else {%>
                    <%= group.name %>
                    <%}%></td>
                  <td> <%= group.members_counter %></td>
                </tr>
                <%  }); %>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
<% include footer.ejs %>